@model IEnumerable<Infraestructure.Models.Orden>

@{
    Layout = "~/Views/Shared/_Login.cshtml";
}

@{
    string nombre = "";
    Infraestructure.Models.Empleado oEmpleado;
    // Validar si vienen datos en la session
    if (Session["User"] != null)
    {
        // Casting
        oEmpleado = Session["User"] as Infraestructure.Models.Empleado;

        if (oEmpleado != null)
        {
            nombre = $"{oEmpleado.Nombre} {oEmpleado.Apellidos}";
        }
    }
}

            <h1 style="margin-top: 80px">Moto Repuestos Ramírez & Barboza S.A.</h1>
            <h4 style="color:grey">Creado por: @nombre</h4>
            <h5 style="color:grey">Fecha de creación: @DateTime.Now.ToString("dd 'de' MMMM 'del' yyyy 'a las' HH:mm ")</h5>

            <h3 style="margin-top:50px">Lista de órdenes @ViewBag.mesOrdenes</h3>
            <table class="table table-responsive-md" style="margin-top: 10px">
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.Id)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.NombreCliente)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.ApellidosCliente)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.FechaCreacion)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Subtotal)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.TotalIVA)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.TotalFinal)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.CondicionOrden.Descripcion)
                    </th>
                    <th></th>
                </tr>

                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.Id)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.NombreCliente)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.ApellidosCliente)
                        </td>
                        <td>
                            @*@Html.DisplayFor(modelItem => item.FechaCreacion)*@
                            @Convert.ToDateTime(item.FechaCreacion).ToString("dd/MM/yyyy")
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Subtotal)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.TotalIVA)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.TotalFinal)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.CondicionOrden.Descripcion)
                        </td>
                    </tr>
                }

            </table>


